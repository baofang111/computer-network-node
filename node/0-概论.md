什么是互联网：

什么是网络：

    主机节点
        |
        链路
        |
    交换节点

    节点：
        主机及其上运行的应用程序
        路由器，交换机等网络交换设备

    边：
        接入网络链路：主机连接到互联网的链路
        主干链路：路由器之间的链路

    协议：
        

什么是 internet: 从具体构成角度
    数以亿计的，互联网的计算设备
        主机 = 端系统
        运行的 网络应用程序
    通信链路：
        光纤、电缆、无线电、卫星
        传输速录 = 带宽 （ bps ）
    分组交换设备： 转发分组 （ packet ）
        路由和交换机

    
Internet 标准：
    RFC: Request for comments
    IETF: Internet Engineering Task Force


协议：
    什么是协议：

人类协议：
    A：几点了
    B：我有个问题
    A： 你好
        发送特定的消息
        收到消息时，采用特定的行动或其他事件

网络协议：
    类似人的协议
    及其之间的协议 而非 人与人之间的协议
    Internet 中所有的通信行为都受协议制约
        协议定义了在两个或者多个通信实体之间焦化的数据报文格式和次序，以及在报文传输和 / 或接受或 其他事件方面所采取的动作

互联网 = 分布式的应用进程 + 基础设施 （为分布式应用进程提供服务的基础设施，包括了 主机 交换机 网线 .... ） 
 


网络的边缘： edge
    主机
    应用程序
    
模式：
    端系统 
    C / S 模式  有什么问题：可扩展性比较差，
    P 2 P 模式： 

采用网络设施的 面向连接的服务
    TCP: 
        流量控制
        拥塞控制

采用网络设施的 无连接的服务
    UDP

网络核心
    电路交换 （ 不共享 ）
        适用于 打电话 的 链路搭建

    网络资源 （ 如 宽带 ） 被分成片
        为呼叫分配片
        如果某个呼叫没有数据，则其资源处于空闲状态 （ 不共享 ）

    将宽带分成片
        频分 - 频率
        时分 - 时间
        波分 - 波段 光纤通信
    
    --- 电路交换不适合计算机之间的通信
        连接建立时间长
        计算机之间的通信有突发性，如果使用线路交换，则浪费的片比较多
           * 即使这个呼叫没有数据传递，其所占据的片也不能被别的呼叫使用
        可靠性不高 ？
            最核心的节点宕机，影响范围就特别大

    分组交换：  packet switch
        以分组为单位 存储-转发的方式： （ 不是存储转发的话，就需要占用其他下一段链路的资源，也就变成了独享，存储下来，这样，其他的链路就可以被其他对象使用，当我用的时候再进行转发，
    不数据 传输的时候，不占用网络资源，当存储下来之后，有数据传的时候，才开始占用网络资源 ）
            网络带宽资源不再分为 一个一个片，传输的时候使用全部的贷款   
            主机之间传输的数据被分为一个一个的分组

        资源共享，按需使用：
            存储 - 转发：分组每次移动一跳 （ hop ）
                在转发之前，节点必须收到整个分组
                延迟比线路交换要大
                排队时间
    
    -- 排队延时 和 丢失
        如果到达速率 > 链路的输出速率
            分组将会排队，等待传输
            如果路由器的缓存用完了，分组将会被抛弃

    网络核心的关键功能
    路由表：
        路由：决定分组采用的源到目标的路径 - 路由算法
        转发：将分组从路由器的输入链路转移到输出链路

    分组交换： 统计多路复用

    分组交换  vs 电路交换
    
虚电路网络 的工作原理：
    信令

数据报网络：


端到端资源分配给从源端到目标端的呼叫 「 call 」


接入网，接入系统
    如何把边缘接到核心

有线
    住宅接入：
        modem:  带宽非常窄
              
        调制解调器： 
            DSL

            ASL:    上下行带宽不对称称为 ASL

        电缆模式：
            
    家庭接入：
        

    线缆网络


    企业接入网络： Ethernet


    无线：
        无线LANS
        广域无线接入 

物理媒体：
    BIT: 

    同轴电缆

    光纤

    无线链路：
        地面微波
    
        LAN

        wide-area

        卫星 
    
Internet 结构 和 ISP
     
    互联网格结构： 网格的网格
        端系统通过 接入 ISPs 连接到互联网
            住在，公司和大学的ISPs

        接入 ISPs 相应的必须是互联的
            一次任何 2 个端系统可相互发送分组到对方
        导致的 网格的网格 非常复杂
            发展和演化是通过 经济的 和 国家的政策来驱动的
        让我们采用渐进方法来描述当前互联网的结构



    IDC
    ISP
    ICP

分组延时，丢失和吞吐量
    
    分组丢失 和 延时 是怎么发生的？
        在路由器缓冲区的分组队列
            分组大道链路的速率超过了链路的输出能力
            分组等待排到对头，被传输 

    四种分组延时：
        1：节点处理延时
            检查Bit级差错
            检查分组首部和决定将分组导向何处

        2：排队延时
            在输出链路上等待传输的时间
            依赖于路由器的拥塞程度

        3：传输延时
            R = 链路带宽 （bps）
            L = 分组长度 （bits）
            将分组发送到链路上的时间 = L / R
            存储转发延时

        4：传播延时
            d = 物理链路的长度
            s = 在媒体上的传播速度 （~ 2* 10^8 m/sec）
            传播延时 = d / s

        节点延时 = 处理延时 + 排队延时 + 传输延时 + 传播延时
    

        ICMP 协议： 互联网控制报文协议
            
        吞吐量
            在 源端 和 目标端之间的传输的速率 （ 数据量 / 单位时间 ）
                瞬间吞吐量： 在一个时间点的速率
                平均吞吐量： 在一个长时间内的平均值


-----  协议层次和服务模型
    协议层次：
    网络是一个非常复杂的系统！
        网格功能繁杂，数字信号的物理信号承载，点到点，路由，rdt, 进程区分，应用等。
        现实来看，网格有许多的构成元素和设备
            主机：
            路由器：
            各种媒体和链路
            应用：
            协议
            硬件，软件

    
    协议：
        协议的实现通过下层的服务实现，协议是为了向上层提供更好喝的服务 

    分层设计

    服务和服务访问点：
        
    服务：底层实体向上层实体提供他们之间的通信能力

    无链接的服务：
        

    SDU PDU: 

    分层处理和实现复杂系统的好处：

internet 协议栈

    应用层： 网络应用
        为人类 用户或者其他应用进程提供网络应用服务
        FTP SMTP HTTP DNS

        拿到传输层的数据，进行自己应用的应用数据

    传输层： 主机之间的数据传输
        在网络层提供的端到端通信基础上，细分为进程到进程，将不可靠的通信变为可靠的通信
        TCP： UDP

        主机到主机，还需要细分到 进程到进程之间的数据传输，区分进程
        把网络层的不可靠的服务，转换成 可靠的传输服务，不出错，不重复，不丢失，不失序

    网络层: 为数据报从源到目标选择路由
        主机主机之间的通信，端到端通信，不可靠
        IP 路由协议

        在链路层 所提供的相邻两点的数据传输的基础之上，传输以  分组  为单位的 端到端 （主机到主机的传输） 的数据传输
        

    链路层: 相邻网格节点间的数据传输
        2 个相邻2点的通信，点到点通信，可靠或不可靠
        点对对协议， PPP, 802.11(WIFI), Ethernet
        
        区分出哪些 bit 是桢的开始 和结束，将他们转换成 frame 桢，将物理层拿到的 bit 转换成 以桢 frame 的单位 进行数据传输
        

    物理层： 在线路上传送 bit
        把数字数据 （frame 桢，来自于 链路层） 转换成 物理型号，电磁炮 光信号 等等，
        
         
ISO / OSI 参考模型 7 层模型
    多了个 表示层 会话层，在 5 层模型当中，这两层的功能是归纳在应用层当中，应用层自己做

    应用层
    表示层
        允许应用解释传输的数据，e,g 加密 压缩 及其相关的表示转换
    会话层
        数据交换的同步 检索，回复
    传输层
    网络层
    链路层 
    物理层
    

二层交换机 三层交换机

各层次的协议数据单元
    应用层： 报文 message
    传输层： 报文段 segment ： TCP 段， UDP 数据段
    网络层： 分组 packet ( 如果无连接方式，数据报 datagram )
    数据链路层： 桢 （ frame ）
    物理层： 位 （ bit  ）


历史：
    
    早起的计算机网络： 

    线路交换

     



















 


















